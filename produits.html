<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarrou Sénégal - Boutique de Vêtements</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 font-sans">

    <!-- Header -->
    <header class="bg-white shadow p-4 flex justify-between items-center">
        <h1 class="text-2xl font-bold text-gray-800">Tarrou Sénégal</h1>
        <button id="cart-button" class="relative bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">
            Panier <span id="cart-count" class="absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full px-2">0</span>
        </button>
    </header>

    <!-- Produits -->
    <main class="p-6">
        <div id="product-grid" class="grid grid-cols-2 md:grid-cols-3 gap-6"></div>
    </main>

    <!-- Panier Sidebar -->
    <div id="cart-sidebar" class="fixed top-0 right-0 h-full w-80 bg-white shadow-lg transform translate-x-full transition-transform z-50">
        <div class="p-4 flex justify-between items-center border-b">
            <h2 class="text-xl font-bold">Votre Panier</h2>
            <button id="close-cart" class="text-gray-600 hover:text-gray-800">&times;</button>
        </div>
        <div id="cart-items" class="p-4 space-y-4 overflow-y-auto h-[calc(100%-150px)]"></div>
        <div class="p-4 border-t">
            <p class="font-bold text-lg">Total : <span id="cart-total">0 €</span></p>
            <button id="checkout-whatsapp" class="mt-2 w-full bg-green-500 text-white py-2 rounded hover:bg-green-600">Commander via WhatsApp</button>
        </div>
    </div>

    <script>
        // Tableau des produits
        const products = [
            {id:1, name:"T-shirt Classique", price:25, image:"https://via.placeholder.com/300x300?text=T-shirt+1"},
            {id:2, name:"Chemise Élégante", price:40, image:"https://via.placeholder.com/300x300?text=Chemise+2"},
            {id:3, name:"Pantalon Jean", price:35, image:"https://via.placeholder.com/300x300?text=Pantalon+3"},
            {id:4, name:"Robe Casual", price:50, image:"https://via.placeholder.com/300x300?text=Robe+4"},
            {id:5, name:"Short d'été", price:20, image:"https://via.placeholder.com/300x300?text=Short+5"},
            {id:6, name:"Veste Chic", price:60, image:"https://via.placeholder.com/300x300?text=Veste+6"},
            {id:7, name:"Pull Douillet", price:45, image:"https://via.placeholder.com/300x300?text=Pull+7"},
            {id:8, name:"Tunique Traditionnelle", price:55, image:"https://via.placeholder.com/300x300?text=Tunique+8"},
            {id:9, name:"Casquette", price:15, image:"https://via.placeholder.com/300x300?text=Casquette+9"},
            {id:10, name:"Chaussures Sport", price:70, image:"https://via.placeholder.com/300x300?text=Chaussures+10"}
        ];

        const cart = {};

        const productGrid = document.getElementById('product-grid');
        const cartSidebar = document.getElementById('cart-sidebar');
        const cartButton = document.getElementById('cart-button');
        const closeCart = document.getElementById('close-cart');
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartCount = document.getElementById('cart-count');
        const checkoutWhatsapp = document.getElementById('checkout-whatsapp');

        // Afficher les produits
        function displayProducts() {
            productGrid.innerHTML = '';
            products.forEach(product => {
                const card = document.createElement('div');
                card.className = "bg-white shadow rounded p-4 flex flex-col items-center";
                card.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="mb-4 w-full h-48 object-cover rounded">
                    <h3 class="font-bold text-lg mb-2">${product.name}</h3>
                    <p class="text-gray-700 mb-4">${product.price} €</p>
                    <div class="flex space-x-2">
                        <button onclick="addToCart(${product.id})" class="bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600">Ajouter au panier</button>
                        <button onclick="orderWhatsApp(${product.id},1)" class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600">WhatsApp</button>
                    </div>
                `;
                productGrid.appendChild(card);
            });
        }

        // Ajouter au panier
        function addToCart(id) {
            if(cart[id]) cart[id]++;
            else cart[id] = 1;
            updateCart();
        }

        // Mettre à jour le panier
        function updateCart() {
            cartItems.innerHTML = '';
            let total = 0;
            let count = 0;
            for(let id in cart) {
                const product = products.find(p => p.id == id);
                const quantity = cart[id];
                total += product.price * quantity;
                count += quantity;

                const item = document.createElement('div');
                item.className = "flex items-center justify-between border-b pb-2";
                item.innerHTML = `
                    <img src="${product.image}" alt="${product.name}" class="w-16 h-16 object-cover rounded">
                    <div class="flex-1 ml-2">
                        <h4 class="font-bold">${product.name}</h4>
                        <p>${product.price} € x <span>${quantity}</span></p>
                        <div class="flex space-x-1 mt-1">
                            <button onclick="changeQuantity(${id}, -1)" class="bg-gray-300 px-2 rounded">-</button>
                            <button onclick="changeQuantity(${id}, 1)" class="bg-gray-300 px-2 rounded">+</button>
                        </div>
                    </div>
                `;
                cartItems.appendChild(item);
            }
            cartTotal.textContent = total + " €";
            cartCount.textContent = count;
        }

        // Modifier la quantité
        function changeQuantity(id, delta) {
            if(cart[id] + delta <= 0) delete cart[id];
            else cart[id] += delta;
            updateCart();
        }

        // Commander via WhatsApp pour un produit spécifique
        function orderWhatsApp(id, quantity) {
            const product = products.find(p => p.id == id);
            const message = Bonjour, je souhaite commander :\n${product.name} - ${product.price} € x ${quantity} = ${product.price*quantity} €;
            const url = https://wa.me/221XXXXXXXX?text=${encodeURIComponent(message)};
            window.open(url, '_blank');
        }

        // Commander tous les produits via WhatsApp
        checkoutWhatsapp.addEventListener('click', () => {
            if(Object.keys(cart).length === 0) {
                alert("Votre panier est vide !");
                return;
            }
            let message = "Bonjour, je souhaite commander :\n";
            let total = 0;
            for(let id in cart) {
                const product = products.find(p => p.id == id);
                const quantity = cart[id];
                total += product.price * quantity;
                message += ${product.name} - ${product.price} € x ${quantity} = ${product.price*quantity} €\n;
            }
            message += Total : ${total} €;
            const url = https://wa.me/221XXXXXXXX?text=${encodeURIComponent(message)};
            window.open(url, '_blank');
        });

        // Afficher / cacher le panier
        cartButton.addEventListener('click', () => {
            cartSidebar.classList.remove('translate-x-full');
        });
        closeCart.addEventListener('click', () => {
            cartSidebar.classList.add('translate-x-full');
        });

        // Initialisation
        displayProducts();
        updateCart();
    </script>

</body>
</html>
